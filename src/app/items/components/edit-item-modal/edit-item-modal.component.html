<div class="modal-header justify-content-center">
  <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
    <span aria-hidden="true">Ã—</span>
  </button>
  <h5>{{this.title}}</h5>
</div>
<div class="modal-body text-center">
  <form class="text-center" [formGroup]="editItemForm" autocomplete="on">
    <div class="row">
      <div class="col-md-7">
        <div class="md-form md-outline">
          <input mdbInput mdbValidate type="text" id="nameForm" class="form-control" [(ngModel)]="itemToEdit.name"
                 formControlName="nameForm">
          <label for="nameForm">Name</label>
          <mdb-error *ngIf="nameForm.invalid && (nameForm.dirty || nameForm.touched)">Name is invalid</mdb-error>
        </div>

        <div class="md-form md-outline">
      <textarea class="md-textarea form-control" rows="3" id="descriptionForm" type="text" length="120" mdbCharCounter
                mdbValidate mdbInput [(ngModel)]="itemToEdit.description" formControlName="descriptionForm"></textarea>
          <label for="descriptionForm">Description</label>
          <mdb-error *ngIf="descriptionForm.invalid && (descriptionForm.dirty || descriptionForm.touched)">Description
            is invalid
          </mdb-error>
        </div>
        <div class="md-form md-outline">
          <input mdbInput mdbValidate type="number" id="categoryIdForm" class="form-control"
                 [(ngModel)]="itemToEdit.categoryId" formControlName="categoryIdForm">
          <label for="categoryIdForm">Category ID</label>
          <mdb-error *ngIf="categoryIdForm.invalid && (categoryIdForm.dirty || categoryIdForm.touched)">Category Id is
            invalid
          </mdb-error>
        </div>
      </div>
      <div class="col-md-5 align-self-center">
        <div class="row justify-content-center">
          <img alt="Upload an item image" [src]="imageURL" (click)="!isUploadingImage && itemImage.click()"
               class="item-image p-2">
        </div>
        <div class="row justify-content-center">
          <div *ngIf="isUploadingImage">{{uploadPercent + '%'}}</div>
        </div>
        <div class="row justify-content-center">
          <input style="display: none" #itemImage type="file" accept="image/png, image/jpeg"
                 (change)="uploadFile($event)"
                 [disabled]="isUploadingImage">
          <mdb-error style="position: inherit !important;" *ngIf="!isImageUploaded">Please upload an item image
          </mdb-error>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer justify-content-center">
  <div class="row justify-content-center">
    <button type="button" mdbBtn color="success" class="relative waves-light" mdbWavesEffect
            [disabled]="!editItemForm.valid || !isImageUploaded" (click)="onSubmit()">
      Save
    </button>
  </div>
</div>

